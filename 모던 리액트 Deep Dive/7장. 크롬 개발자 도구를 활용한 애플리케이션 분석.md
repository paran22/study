## 7장 크롬 개발자 도구를 활용한 애플리케이션 분석

- 자바스크립트 메모리, 네트워크, 소스, HTML 및 CSS 등 리엑트가 아닌 일반적인 웹 애플리케이션 환경을 디버깅 하려면 브라우저 디버깅 도구가 필요하다.

### 7.1 크롬 개발자 도구란?

- 개인정보 보호 모드에서는 브라우저에 설치되어 있는 각종 확장 프로그램이 실행되지 않기 때문에 순수하게 웹페이지와 관련된 정보만 확인할 수 있다.

### 7.2 요소 탭

- HTML, CSS를 확인할 수 있다.
- 직접 코드를 수정해 웹페이지에서 어떻게 보이는지 빠르게 확인할 수 있다.
- 중단위치를 설정해서 동적으로 제어되는 DOM을 관찰할 수 있다.

### 7.3 소스 탭

- 웹 애플리케이션을 불러오기 위해 실행하거나 참조한 모든 파일을 확인할 수 있다.
- 중단점을 생성해 자바스크립트 실행을 중단시키고 디버깅을 수행할 수 있다.

### 7.4 네트워크 탭

- 해당 웹페이지를 접속하는 순간부터 발생하는 모든 네트워크 관련 작동이 기록된다.
- 스크린숏 캡처 기능을 활용하면 네트워크 요청 흐름에 따라 웹페이지가 어떻게 로딩되고 있는지 확인할 수 있다.

### 7.5 메모리 탭

- 프로파일링을 거쳐야 원하는 정보를 얻을 수 있다.
- 디버깅하고 싶은 자바스크립트 VM 환경을 선택할 수 있다.
- 힙 스냅샷 : 촬영하는 시점을 기준으로 메모리 현황을 확인할 수 있다.
  - 메모리 누수를 찾을 때는 얕은 크기(객체 자체의 크기)는 작으나 유지된 크기(객체가 참조하고 있는 모든 객체들의 크기)가 큰 객체를 찾아야한다. 두 크기의 차이가 큰 객체는 다수의 다른 객체를 참고하고 있다는 뜻이며, 복잡한 참조 관계를 가지고 있다는 뜻이다.
  - 메모리 누수가 발생할 것으로 예상되는 스크립트 전후로 촬영해 비교하는 것이 좋다.
- 타임라인 할당 계측 : 시간의 흐름에 따라 메모리 변화를 확인할 수 있다.
- 할당 샘플링 : 할당 계측과 비슷하게 시간의 흐름에 따라 발생하는 메모리 점유를 확인할 수 있지만 자바스크립트 실행 스택별로 분석할 수 있고, 이 분석을 함수 단위로 한다는 차이점이 있다.
  - 브라우저 부담이 적어 장시간에 걸쳐 디버깅을 수행해야 할 때 유리하다.

### 7.6 Next.js 환경 디버깅하기

- Next.js를 디버그 모드로 실행하면 크롬 개발자 도구를 사용할 수 있다.
- 서버를 실행한 뒤 사용자가 서서히 유입되면서 메모리 누수가 발생하는 경우가 많기 때문에, ab를 활용해 트래픽이 서버로 몰리는 상황을 시뮬레이션 할 수 있다.
